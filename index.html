<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üîû Conte√∫do Exclusivo</title>
<style>
body { font-family: Arial; background: #111; color: #fff; text-align:center; padding: 20px; }
.btn { background: #ff007f; padding: 14px 24px; color: #fff; font-size: 18px; border: none; border-radius: 10px; cursor: pointer; }
.btn:hover { background: #ff3da6; }
#contador { margin-top: 20px; font-size: 16px; color: #00ff99; }
</style>
</head>
<body>
<h1>üîû Conte√∫do Exclusivo</h1>
<p>Clique no bot√£o abaixo para ver o an√∫ncio:</p>
<button id="verAnuncio" class="btn">Ver An√∫ncio</button>
<div id="contador"></div>

<script>
const SMARTLINK = "https://otieu.com/4/9645676";
const TELEGRAM_LINK = "https://t.me/+z-i6AW_pVExmYTkx";
const TEMPO_SEGUNDOS = 10;

let tempoRestante = TEMPO_SEGUNDOS;
let contagemAtiva = false;
let contagemIntervalo;

const btn = document.getElementById("verAnuncio");
const contador = document.getElementById("contador");

// Detecta Telegram WebView
if (navigator.userAgent.includes("Telegram")) {
    document.body.innerHTML = `
        <div style="text-align:center; margin-top:50px;">
            <h2>‚ö†Ô∏è Abra esta p√°gina no navegador do seu celular!</h2>
            <p>O conte√∫do n√£o funciona dentro do app Telegram.</p>
            <button class="btn" onclick="copiarLink()">Copiar link para abrir no navegador</button>
        </div>
    `;
    function copiarLink() {
        navigator.clipboard.writeText(window.location.href)
            .then(() => alert('Link copiado! Abra no navegador do seu celular.'));
    }
} else {
    // Fun√ß√£o para iniciar contagem
    function iniciarContagem() {
        contagemAtiva = true;
        contador.innerText = `‚è≥ Aguarde ${tempoRestante} segundos fora da p√°gina...`;

        contagemIntervalo = setInterval(() => {
            if (!contagemAtiva) return;
            tempoRestante--;
            contador.innerText = `‚è≥ Aguarde ${tempoRestante} segundos fora da p√°gina...`;
            if (tempoRestante <= 0) {
                clearInterval(contagemIntervalo);
                window.location.href = TELEGRAM_LINK; // libera conte√∫do
            }
        }, 1000);
    }

    // Detecta se usu√°rio voltou para a aba principal
    document.addEventListener("visibilitychange", () => {
        if (!document.hidden) {
            contagemAtiva = false;
            clearInterval(contagemIntervalo);
            tempoRestante = TEMPO_SEGUNDOS;
            contador.innerText = "‚ùå Conte√∫do n√£o liberado. Saia novamente para tentar.";
        }
    });

    btn.addEventListener("click", () => {
        // Abre o smartlink em nova aba
        window.open(SMARTLINK, "_blank");
        contador.innerText = `‚è≥ Saia da p√°gina principal para iniciar a contagem (${TEMPO_SEGUNDOS}s)`;
        tempoRestante = TEMPO_SEGUNDOS;
        iniciarContagem();
    });
}
</script>
</body>
</html>
