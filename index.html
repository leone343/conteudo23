<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üîû Conte√∫do Exclusivo</title>
<style>
  body { font-family: Arial; background: #111; color: #fff; text-align:center; padding: 20px; }
  .btn { background: #ff007f; padding: 14px 24px; color: #fff; font-size: 18px; border: none; border-radius: 10px; cursor: pointer; }
  .btn:hover { background: #ff3da6; }
  #contador { margin-top: 20px; font-size: 16px; color: #00ff99; }
</style>
</head>
<body>
<h1>üîû Conte√∫do Exclusivo</h1>
<p>Clique no bot√£o abaixo para ver o an√∫ncio:</p>
<button id="verAnuncio" class="btn">Ver An√∫ncio</button>
<div id="contador"></div>

<script>
const SMARTLINK = "https://otieu.com/4/9645676";
const TELEGRAM_LINK = "https://t.me/+z-i6AW_pVExmYTkx";
const TEMPO_SEGUNDOS = 10;

let tempoRestante = TEMPO_SEGUNDOS;
let contagemAtiva = false;

const btn = document.getElementById("verAnuncio");
const contador = document.getElementById("contador");

function iniciarContagem() {
  const intervalo = setInterval(() => {
    if (!contagemAtiva) return; // s√≥ conta enquanto aba principal estiver em background
    tempoRestante--;
    contador.innerText = `‚è≥ Aguarde ${tempoRestante} segundos fora da p√°gina...`;
    if (tempoRestante <= 0) {
      clearInterval(intervalo);
      window.location.href = TELEGRAM_LINK; // libera conte√∫do
    }
  }, 1000);
}

// Detecta quando a aba principal perde ou ganha foco
document.addEventListener("visibilitychange", () => {
  if (document.hidden) {
    contagemAtiva = true; // aba fora do foco, inicia contagem
  } else {
    contagemAtiva = false; // aba voltou antes do tempo, reinicia contagem
    contador.innerText = "‚ùå Conte√∫do n√£o liberado. Saia novamente para tentar.";
    tempoRestante = TEMPO_SEGUNDOS; // reinicia contagem
  }
});

btn.addEventListener("click", () => {
  window.open(SMARTLINK, "_blank"); // abre an√∫ncio no navegador externo
  contador.innerText = `‚è≥ Saia da p√°gina principal para iniciar a contagem (${TEMPO_SEGUNDOS}s)`;
  tempoRestante = TEMPO_SEGUNDOS;
});
</script>
</body>
</html>
